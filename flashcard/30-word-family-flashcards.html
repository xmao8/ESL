<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="/favicon.png" type="image/png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Word Family Flashcards – ESLnote Flashcards</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* Base layout */
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f4f9;
      text-align: center;
      margin: 0;
      padding: 0;
      overflow-x: hidden; /* Prevent horizontal scroll */
    }
    nav {
      background: #124076;
      margin: 0;
      padding: 0;
    }
    .nav-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      max-width: 1100px; /* Max width for larger screens */
      margin: 0 auto; /* Center the container */
      padding: 0.8rem 1rem; /* Padding for all screen sizes */
      box-sizing: border-box;
    }
    .logo {
      display: flex;
      align-items: center;
      color: #ff9800;
      font-family: 'Poppins', sans-serif;
      font-weight: 700;
      font-size: 1.3rem;
      text-decoration: none;
    }
    .logo-img {
      width: 32px;
      height: 32px;
      margin-right: 0.5rem;
    }
    .nav-links {
      display: flex;
      gap: 1rem;
    }
    .nav-links a {
      color: white;
      font-weight: 700;
      text-decoration: none;
      transition: color 0.2s ease;
    }
    .nav-links a:hover,
    .nav-links a:focus {
      color: #ffbb33;
      outline: none;
    }
    /* Hamburger menu button */
    .menu-toggle {
      display: none;
      flex-direction: column;
      gap: 5px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
    }
    .menu-toggle .bar {
      width: 25px;
      height: 3px;
      background: white;
      border-radius: 2px;
    }

    /* --- Phone Layout (max-width: 600px) --- */
    @media (max-width: 600px) {
      .nav-links {
        position: fixed;
        top: 56px; /* Adjust if your nav height is different */
        right: 0;
        background: #124076;
        flex-direction: column;
        width: 100%; /* Changed from 100vw to 100% */
        height: calc(100vh - 56px); /* Adjust if your nav height is different */
        padding: 1rem 1.5rem 2rem 1.5rem;
        gap: 1.2rem;
        overflow-y: auto;
        transform: translateX(100%);
        transition: transform 0.3s ease;
        border-radius: 0 0 0 10px;
        z-index: 999;
        box-sizing: border-box;
        align-items: flex-start;
      }
      .nav-links.active {
        transform: translateX(0);
      }
      .menu-toggle {
        display: flex; /* Show hamburger on phones */
      }
      h1, .flashcard, .buttons {
        padding: 0 1rem; /* Add horizontal padding to main content */
        box-sizing: border-box;
      }
    }

    /* --- Tablet Layout (min-width: 601px and max-width: 900px) --- */
    @media (min-width: 601px) and (max-width: 900px) {
      .nav-container {
        padding: 0.8rem 1.5rem; /* Slightly more padding for tablets */
      }
      .nav-links {
        position: static; /* Links are part of the normal flow */
        flex-direction: row;
        background: none;
        height: auto;
        width: auto;
        padding: 0;
        gap: 1.3rem; /* Slightly smaller gap than desktop */
        transform: none !important; /* Ensure no translation */
        border-radius: 0;
        align-items: center;
        overflow: visible;
      }
      .menu-toggle {
        display: none; /* Hide hamburger on tablets */
      }
      h1, .flashcard, .buttons {
        padding: 0 1.5rem; /* Add horizontal padding to main content for tablets */
        box-sizing: border-box;
      }
    }

    /* --- Desktop Layout (min-width: 901px) --- */
    @media (min-width: 901px) {
      .nav-container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0.8rem 1rem;
      }
      .nav-links {
        position: static;
        flex-direction: row;
        background: none;
        height: auto;
        width: auto;
        padding: 0;
        gap: 1.5rem;
        transform: none !important;
        border-radius: 0;
        align-items: center;
        overflow: visible;
      }
      .menu-toggle {
        display: none; /* Hide hamburger on desktop */
      }
      body {
        padding: 0;
      }
      h1, .flashcard, .buttons {
        padding: 0; /* Remove padding if not needed for large screens, or set specific values */
      }
    }

    h1 {
      margin: 2rem auto;
      color: #2c3e50;
      max-width: 600px;
    }
    .flashcard {
      background: white;
      width: 90%;
      max-width: 600px;
      margin: 2rem auto;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      font-size: 1.2rem;
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease;
      user-select: none;
      min-height: 250px; /* Ensure a minimum height for consistent layout */
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    /* Different background for flipped state to distinguish parts of speech */
    .flashcard.flipped-1 { /* Verb */
      background-color: #3498db; /* Blue */
      color: white;
    }
    .flashcard.flipped-2 { /* Adjective */
      background-color: #2ecc71; /* Green */
      color: white;
    }
    .flashcard.flipped-3 { /* Adverb */
      background-color: #f39c12; /* Orange */
      color: white;
    }

    .main-term {
      font-weight: bold;
      font-size: 2rem;
      margin-bottom: 0.3rem;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 0.8rem;
    }
    .ipa {
      font-family: 'Arial', sans-serif;
      font-style: italic;
      font-size: 1.4rem;
      color: #666;
    }
    /* IPA color changes based on flipped state */
    .flashcard:not(.flipped-1):not(.flipped-2):not(.flipped-3) .ipa {
        color: #666; /* Noun state */
    }
    .flashcard.flipped-1 .ipa,
    .flashcard.flipped-2 .ipa,
    .flashcard.flipped-3 .ipa {
      color: #e0e0e0;
    }

    .definition {
      margin: 1rem 0 0.5rem 0;
      font-size: 1.1rem;
    }
    .example {
      font-style: italic;
      opacity: 0.85;
      font-size: 1rem;
      margin-top: 0.3rem;
    }
    .translation {
      font-size: 0.9rem;
      margin-top: 0.5rem;
      color: #666; /* Default color for translations */
    }
    /* Translation color changes based on flipped state */
    .flashcard.flipped-1 .translation,
    .flashcard.flipped-2 .translation,
    .flashcard.flipped-3 .translation {
      color: #c0d9f0; /* Lighter color for translations on flipped card */
    }

    .speaker {
      cursor: pointer;
      font-size: 1.6rem;
      color: #3498db; /* Default color for speaker on noun side */
      user-select: none;
      transition: color 0.2s;
    }
    .speaker:hover {
      color: #2980b9;
    }
    /* Speaker icon color changes based on flipped state */
    .flashcard.flipped-1 .speaker,
    .flashcard.flipped-2 .speaker,
    .flashcard.flipped-3 .speaker {
      color: #fff; /* White color for speaker on flipped side */
    }
    .flashcard.flipped-1 .speaker:hover,
    .flashcard.flipped-2 .speaker:hover,
    .flashcard.flipped-3 .speaker:hover {
      color: #f0c040;
    }
    .buttons {
      margin: 2rem auto 3rem auto;
      display: flex;
      justify-content: center;
      gap: 1rem;
      max-width: 600px;
    }
    button, .buttons a {
      padding: 0.6rem 1.2rem;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      user-select: none;
    }
    button:hover, .buttons a:hover {
      background: #2980b9;
    }
  </style>
</head>
<body>

<nav aria-label="Main navigation">
  <div class="nav-container">
    <a href="../index.html" class="logo" aria-label="ESLnote Home">
      <img src="/favicon.png" alt="ESLnote Logo" class="logo-img" />
      <span class="site-name">ESLnote</span>
    </a>

    <button id="menuToggle" class="menu-toggle" aria-controls="primary-navigation" aria-expanded="false" aria-label="Toggle menu">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <div class="nav-links" id="primary-navigation">
      <a href="../index.html">Home</a>
      <a href="../flashcards.html">Flashcards</a>
      <a href="../conversation.html">Conversations</a>
      <a href="../grammar.html">Grammar</a>
      <a href="../reading.html">Reading</a>
      <a href="../practice.html">Practices</a>
    </div>
  </div>
</nav>

<h1>Word Family Flashcards</h1>

<div id="flashcard" class="flashcard" onclick="flipCard()" role="button" aria-pressed="false" tabindex="0" onkeydown="if(event.key==='Enter' || event.key===' ') flipCard()">
  <div class="main-term" id="card-term"></div>
  <div class="ipa" id="card-ipa"></div>
  <div class="definition" id="card-definition"></div>
  <div class="example" id="card-example"></div>
  <div class="translation" id="card-chinese"></div>
  <div class="translation" id="card-spanish"></div>
  <div style="font-size:1rem; margin-top:1rem; color:#888;">Click to flip</div>
</div>

<div class="buttons">
  <button onclick="prevCard()" aria-label="Previous flashcard">⬅ Previous</button>
  <button onclick="nextCard()" aria-label="Next flashcard">Next ➡</button>
</div>

<script>
const flashcards = [
  {
    noun: "Action", ipa_n: "/ˈækʃn/", def_n: "A thing done; a deed.", example_n: "His brave **action** saved the child.", chinese_n: "行动 (xíngdòng)", spanish_n: "Acción",
    verb: "Act", ipa_v: "/ækt/", def_v: "Take action; do something.", example_v: "The government needs to **act** quickly.", chinese_v: "行动 (xíngdòng)", spanish_v: "Actuar",
    adj: "Active", ipa_adj: "/ˈæktɪv/", def_adj: "Engaging or ready to engage in physically energetic pursuits.", example_adj: "She is a very **active** person.", chinese_adj: "积极的 (jījíde)", spanish_adj: "Activo",
    adv: "Actively", ipa_adv: "/ˈæktɪvli/", def_adv: "In an active manner.", example_adv: "The team members worked **actively**.", chinese_adv: "积极地 (jījíde)", spanish_adv: "Activamente"
  },
  {
    noun: "Analysis", ipa_n: "/əˈnæləsɪs/", def_n: "Detailed examination of the elements or structure of something.", example_n: "His detailed **analysis** of the market helped.", chinese_n: "分析 (fēnxī)", spanish_n: "Análisis",
    verb: "Analyze", ipa_v: "/ˈænəlaɪz/", def_v: "Examine methodically and in detail the constitution or structure of something.", example_v: "The scientist will **analyze** the data.", chinese_v: "分析 (fēnxī)", spanish_v: "Analizar",
    adj: "Analytic", ipa_adj: "/ˌænəˈlɪtɪk/", def_adj: "Relating to or using analysis or logical reasoning.", example_adj: "She has a strong **analytic** mind.", chinese_adj: "分析的 (fēnxīdē)", spanish_adj: "Analítico",
    adv: "Analytically", ipa_adv: "/ˌænəˈlɪtɪkli/", def_adv: "In an analytical manner.", example_adv: "He approached the problem **analytically**.", chinese_adv: "分析地 (fēnxīdì)", spanish_adv: "Analíticamente"
  },
  {
    noun: "Application", ipa_n: "/ˌæplɪˈkeɪʃn/", def_n: "A formal request to an authority for something.", example_n: "You need to fill out an **application** form.", chinese_n: "申请 (shēnqǐng)", spanish_n: "Solicitud",
    verb: "Apply", ipa_v: "/əˈplaɪ/", def_v: "Make a formal request or application.", example_v: "Please **apply** for the scholarship.", chinese_v: "申请 (shēnqǐng)", spanish_v: "Aplicar/Solicitar",
    adj: "Applicable", ipa_adj: "/ˈæplɪkəbl/", def_adj: "Relevant or appropriate.", example_adj: "The new rules are **applicable** to all students.", chinese_adj: "适用的 (shìyòngdē)", spanish_adj: "Aplicable",
    adv: "Applicably", ipa_adv: "/ˈæplɪkəbli/", def_adv: "In an applicable manner.", example_adv: "The principle can be **applicably** used.", chinese_adv: "适用地 (shìyòngdì)", spanish_adv: "Aplicablemente"
  },
  {
    noun: "Communication", ipa_n: "/kəˌmjuːnɪˈkeɪʃn/", def_n: "The imparting or exchanging of information.", example_n: "Effective **communication** is key.", chinese_n: "沟通 (gōutōng)", spanish_n: "Comunicación",
    verb: "Communicate", ipa_v: "/kəˈmjuːnɪkeɪt/", def_v: "Share or exchange information, news, or ideas.", example_v: "They tried to **communicate** their ideas clearly.", chinese_v: "沟通 (gōutōng)", spanish_v: "Comunicar",
    adj: "Communicative", ipa_adj: "/kəˈmjuːnɪkətɪv/", def_adj: "Ready to talk or impart information.", example_adj: "She is a very **communicative** person.", chinese_adj: "善于交际的 (shànyú jiāojìdē)", spanish_adj: "Comunicativo",
    adv: "Communicatively", ipa_adv: "/kəˌmjuːnɪˈkeɪtɪvli/", def_adv: "In a communicative manner.", example_adv: "The team collaborated **communicatively**.", chinese_adv: "交际地 (jiāojìdì)", spanish_adv: "Comunicativamente"
  },
  {
    noun: "Competition", ipa_n: "/ˌkɒmpəˈtɪʃn/", def_n: "The activity of striving to gain or win something.", example_n: "The **competition** for jobs is intense.", chinese_n: "竞争 (jìngzhēng)", spanish_n: "Competición",
    verb: "Compete", ipa_v: "/kəmˈpiːt/", def_v: "Strive to gain or win something.", example_v: "The two companies **compete** for market share.", chinese_v: "竞争 (jìngzhēng)", spanish_v: "Competir",
    adj: "Competitive", ipa_adj: "/kəmˈpɛtətɪv/", def_adj: "Relating to or characterized by competition.", example_adj: "He has a very **competitive** personality.", chinese_adj: "竞争的 (jìngzhēngdē)", spanish_adj: "Competitivo",
    adv: "Competitively", ipa_adv: "/kəmˈpɛtətɪvli/", def_adv: "In a competitive manner.", example_adv: "Athletes train **competitively** to win.", chinese_adv: "有竞争力地 (yǒu jìngzhēnglìdì)", spanish_adv: "Competitivamente"
  },
  {
    noun: "Comprehension", ipa_n: "/ˌkɒmprɪˈhɛnʃn/", def_n: "The ability to understand something.", example_n: "Her **comprehension** of the text was impressive.", chinese_n: "理解 (lǐjiě)", spanish_n: "Comprensión",
    verb: "Comprehend", ipa_v: "/ˌkɒmprɪˈhɛnd/", def_v: "Grasp mentally; understand.", example_v: "It's sometimes hard to **comprehend** complex theories.", chinese_v: "理解 (lǐjiě)", spanish_v: "Comprender",
    adj: "Comprehensible", ipa_adj: "/ˌkɒmprɪˈhɛnsəbl/", def_adj: "Able to be understood; intelligible.", example_adj: "The instructions were clear and **comprehensible**.", chinese_adj: "可理解的 (kě lǐjiědē)", spanish_adj: "Comprensible",
    adv: "Comprehensibly", ipa_adv: "/ˌkɒmprɪˈhɛnsəbli/", def_adv: "In a comprehensible manner.", example_adv: "The teacher explained the concept **comprehensibly**.", chinese_adv: "可理解地 (kě lǐjiědì)", spanish_adv: "Comprensiblemente"
  },
  {
    noun: "Conclusion", ipa_n: "/kənˈkluːʒn/", def_n: "The end or finish of an event or process.", example_n: "In **conclusion**, we made the right choice.", chinese_n: "结论 (jiélùn)", spanish_n: "Conclusión",
    verb: "Conclude", ipa_v: "/kənˈkluːd/", def_v: "Bring (something) to an end.", example_v: "They **concluded** that the project was feasible.", chinese_v: "总结 (zǒngjié)", spanish_v: "Concluir",
    adj: "Conclusive", ipa_adj: "/kənˈkluːsɪv/", def_adj: "Serving to prove a case; decisive or convincing.", example_adj: "The evidence was not **conclusive**.", chinese_adj: "决定性的 (juédìngxìngdē)", spanish_adj: "Concluyente",
    adv: "Conclusively", ipa_adv: "/kənˈkluːsɪvli/", def_adv: "In a conclusive manner.", example_adv: "The experiment results proved it **conclusively**.", chinese_adv: "决定性地 (juédìngxìngdì)", spanish_adv: "Concluyentemente"
  },
  {
    noun: "Confidence", ipa_n: "/ˈkɒnfɪdəns/", def_n: "The feeling or belief that one can rely on someone or something.", example_n: "Building self-**confidence** takes time.", chinese_n: "信心 (xìnxīn)", spanish_n: "Confianza",
    verb: "Confide", ipa_v: "/kənˈfaɪd/", def_v: "Tell someone about a secret or sensitive matter.", example_v: "She decided to **confide** her secret.", chinese_v: "倾诉 (qīngsù)", spanish_v: "Confiar",
    adj: "Confident", ipa_adj: "/ˈkɒnfɪdənt/", def_adj: "Feeling or showing confidence in oneself.", example_adj: "He felt **confident** that he would pass.", chinese_adj: "自信的 (zìxìndē)", spanish_adj: "Confiado",
    adv: "Confidently", ipa_adv: "/ˈkɒnfɪdəntli/", def_adv: "In a confident manner.", example_adv: "She spoke **confidently** about her presentation.", chinese_adv: "自信地 (zìxìndì)", spanish_adv: "Confiadamente"
  },
  {
    noun: "Connection", ipa_n: "/kəˈnɛkʃn/", def_n: "A relationship in which a person, thing, or idea is linked.", example_n: "There is a strong **connection** between exercise and health.", chinese_n: "连接 (liánjiē)", spanish_n: "Conexión",
    verb: "Connect", ipa_v: "/kəˈnɛkt/", def_v: "Bring together or into contact.", example_v: "The two devices need to be **connected**.", chinese_v: "连接 (liánjiē)", spanish_v: "Conectar",
    adj: "Connected", ipa_adj: "/kəˈnɛktɪd/", def_adj: "Joined or linked together.", example_adj: "The events in the story were **connected**.", chinese_adj: "连接的 (liánjiēdē)", spanish_adj: "Conectado",
    adv: "Connectedly", ipa_adv: "/kəˈnɛktɪdli/", def_adv: "In a connected manner.", example_adv: "The ideas flowed **connectedly**.", chinese_adv: "连贯地 (liánguàndì)", spanish_adv: "Conectadamente"
  },
  {
    noun: "Decision", ipa_n: "/dɪˈsɪʒn/", def_n: "A conclusion or resolution reached after consideration.", example_n: "She made a quick **decision**.", chinese_n: "决定 (juédìng)", spanish_n: "Decisión",
    verb: "Decide", ipa_v: "/dɪˈsaɪd/", def_v: "Come to a resolution in the mind.", example_v: "We need to **decide** what to do next.", chinese_v: "决定 (juédìng)", spanish_v: "Decidir",
    adj: "Decisive", ipa_adj: "/dɪˈsaɪsɪv/", def_adj: "Settling an issue; producing a definite result.", example_adj: "It was a **decisive** moment.", chinese_adj: "决定性的 (juédìngxìngdē)", spanish_adj: "Decisivo",
    adv: "Decisively", ipa_adv: "/dɪˈsaɪsɪvli/", def_adv: "In a decisive manner.", example_adv: "The leader acted **decisively** in the crisis.", chinese_adv: "果断地 (guǒduàndì)", spanish_adv: "Decisivamente"
  },
  {
    noun: "Demonstration", ipa_n: "/ˌdɛmənˈstreɪʃn/", def_n: "An act of showing how something works.", example_n: "The scientist performed a **demonstration**.", chinese_n: "演示 (yǎnshì)", spanish_n: "Demostración",
    verb: "Demonstrate", ipa_v: "/ˈdɛmənstreɪt/", def_v: "Clearly show the existence or truth of something.", example_v: "You need to **demonstrate** your understanding.", chinese_v: "演示 (yǎnshì)", spanish_v: "Demostrar",
    adj: "Demonstrable", ipa_adj: "/ˈdɛmənstrəbl/", def_adj: "Able to be demonstrated or proved.", example_adj: "His skill was **demonstrable** superior.", chinese_adj: "可证明的 (kě zhèngmíngdē)", spanish_adj: "Demostrable",
    adv: "Demonstrably", ipa_adv: "/ˈdɛmənstrəbli/", def_adv: "In a way that can be clearly shown or proved.", example_adv: "He was **demonstrably** wrong.", chinese_adv: "可证明地 (kě zhèngmíngdì)", spanish_adv: "Demostrablemente"
  },
  {
    noun: "Development", ipa_n: "/dɪˈvɛləpmənt/", def_n: "The process of developing or being developed.", example_n: "The city is planning a new housing **development**.", chinese_n: "发展 (fāzhǎn)", spanish_n: "Desarrollo",
    verb: "Develop", ipa_v: "/dɪˈvɛləp/", def_v: "Grow or cause to grow and become more mature.", example_v: "The company aims to **develop** innovative products.", chinese_v: "发展 (fāzhǎn)", spanish_v: "Desarrollar",
    adj: "Developing", ipa_adj: "/dɪˈvɛləpɪŋ/", def_adj: "Becoming more advanced or mature.", example_adj: "He is still a **developing** artist.", chinese_adj: "发展中的 (fāzhǎn zhōngdē)", spanish_adj: "En desarrollo",
    adv: "Developmentally", ipa_adv: "/dɪˌvɛləpˈmɛntəli/", def_adv: "In a way that relates to the process of developing.", example_adv: "Children learn new skills **developmentally**.", chinese_adv: "发展地 (fāzhǎndì)", spanish_adv: "Desarrolladoramente"
  },
  {
    noun: "Education", ipa_n: "/ˌɛdʒuˈkeɪʃn/", def_n: "The process of receiving or giving systematic instruction.", example_n: "Access to quality **education** is a basic right.", chinese_n: "教育 (jiàoyù)", spanish_n: "Educación",
    verb: "Educate", ipa_v: "/ˈɛdʒukeɪt/", def_v: "Give (someone) an intellectual, moral, or social instruction.", example_v: "The program is designed to **educate** young children.", chinese_v: "教育 (jiàoyù)", spanish_v: "Educar",
    adj: "Educational", ipa_adj: "/ˌɛdʒuˈkeɪʃənl/", def_adj: "Relating to education.", example_adj: "This documentary was very **educational**.", chinese_adj: "教育性的 (jiàoyùxìngdē)", spanish_adj: "Educativo",
    adv: "Educationally", ipa_adv: "/ˌɛdʒuˈkeɪʃənəli/", def_adv: "In a way that relates to education.", example_adv: "The country is investing heavily **educationally**.", chinese_adv: "教育上 (jiàoyù shàng)", spanish_adv: "Educativamente"
  },
  {
    noun: "Employment", ipa_n: "/ɪmˈplɔɪmənt/", def_n: "The state of having paid work.", example_n: "The new policy aims to boost **employment** rates.", chinese_n: "就业 (jiùyè)", spanish_n: "Empleo",
    verb: "Employ", ipa_v: "/ɪmˈplɔɪ/", def_v: "Give work to (someone) and pay them for it.", example_v: "The company plans to **employ** more staff.", chinese_v: "雇佣 (gùyōng)", spanish_v: "Emplear",
    adj: "Employed", ipa_adj: "/ɪmˈplɔɪd/", def_adj: "Having a job.", example_adj: "She is currently **employed** as a manager.", chinese_adj: "受雇的 (shòugùdē)", spanish_adj: "Empleado",
    adv: "(no common adverb)", ipa_adv: "", def_adv: "N/A", example_adv: "", chinese_adv: "", spanish_adv: ""
  },
  {
    noun: "Enjoyment", ipa_n: "/ɪnˈdʒɔɪmənt/", def_n: "The state or process of taking pleasure in something.", example_n: "He finds great **enjoyment** in playing games.", chinese_n: "乐趣 (lèqù)", spanish_n: "Disfrute",
    verb: "Enjoy", ipa_v: "/ɪnˈdʒɔɪ/", def_v: "Take delight or pleasure in (an activity or occasion).", example_v: "I really **enjoy** reading this book.", chinese_v: "享受 (xiǎngshòu)", spanish_v: "Disfrutar",
    adj: "Enjoyable", ipa_adj: "/ɪnˈdʒɔɪəbl/", def_adj: "Giving delight or pleasure.", example_adj: "We had a truly **enjoyable** evening.", chinese_adj: "愉快的 (yúkuàidē)", spanish_adj: "Agradable",
    adv: "Enjoyably", ipa_adv: "/ɪnˈdʒɔɪəbli/", def_adv: "In an enjoyable manner.", example_adv: "The children played **enjoyably** in the park.", chinese_adv: "愉快地 (yúkuàidì)", spanish_adv: "Agradablemente"
  },
  {
    noun: "Explanation", ipa_n: "/ˌɛkspləˈneɪʃn/", def_n: "A statement or account that makes something clear.", example_n: "She offered a brief **explanation** of the process.", chinese_n: "解释 (jiěshì)", spanish_n: "Explicación",
    verb: "Explain", ipa_v: "/ɪkˈspleɪn/", def_v: "Make (an idea, situation, or phrase) clear to someone.", example_v: "Can you **explain** the instructions more clearly?", chinese_v: "解释 (jiěshì)", spanish_v: "Explicar",
    adj: "Explanatory", ipa_adj: "/ɪkˈsplænətɔːri/", def_adj: "Serving to explain something.", example_adj: "The textbook includes many **explanatory** diagrams.", chinese_adj: "解释性的 (jiěshìxìngdē)", spanish_adj: "Explicativo",
    adv: "Explanatorily", ipa_adv: "/ɪkˌsplænəˈtɔːrəli/", def_adv: "In an explanatory manner.", example_adv: "He wrote a long essay, **explanatorily** detailing his research.", chinese_adv: "解释地 (jiěshìdì)", spanish_adv: "Explicativamente"
  },
  {
    noun: "Exploration", ipa_n: "/ˌɛkspləˈreɪʃn/", def_n: "The action of traveling in or through an unfamiliar area.", example_n: "Space **exploration** continues to fascinate.", chinese_n: "探索 (tànsuǒ)", spanish_n: "Exploración",
    verb: "Explore", ipa_v: "/ɪkˈsplɔːr/", def_v: "Travel in or through (an unfamiliar country or area).", example_v: "They decided to **explore** the old caves.", chinese_v: "探索 (tànsuǒ)", spanish_v: "Explorar",
    adj: "Exploratory", ipa_adj: "/ɪkˈsplɔːrətɔːri/", def_adj: "Relating to or involving exploration or investigation.", example_adj: "The team conducted an **exploratory** survey.", chinese_adj: "探索性的 (tànsuǒxìngdē)", spanish_adj: "Exploratorio",
    adv: "(no common adverb)", ipa_adv: "", def_adv: "N/A", example_adv: "", chinese_adv: "", spanish_adv: ""
  },
  {
    noun: "Imagination", ipa_n: "/ɪˌmædʒɪˈneɪʃn/", def_n: "The faculty or action of forming new ideas.", example_n: "A good writer needs a strong **imagination**.", chinese_n: "想象力 (xiǎngxiànglì)", spanish_n: "Imaginación",
    verb: "Imagine", ipa_v: "/ɪˈmædʒɪn/", def_v: "Form a mental image or concept of.", example_v: "Can you **imagine** a world without technology?", chinese_v: "想象 (xiǎngxiàng)", spanish_v: "Imaginar",
    adj: "Imaginative", ipa_adj: "/ɪˈmædʒɪnətɪv/", def_adj: "Having or showing creativity or inventiveness.", example_adj: "The artist used her **imaginative** skills.", chinese_adj: "富有想象力的 (fùyǒu xiǎngxiànglìdē)", spanish_adj: "Imaginativo",
    adv: "Imaginatively", ipa_adv: "/ɪˈmædʒɪnətɪvli/", def_adv: "In an imaginative manner.", example_adv: "She decorated her room very **imaginatively**.", chinese_adv: "富有想象力地 (fùyǒu xiǎngxiànglìdì)", spanish_adv: "Imaginativamente"
  },
  {
    noun: "Information", ipa_n: "/ˌɪnfərˈmeɪʃn/", def_n: "Facts provided or learned about something.", example_n: "We need more **information**.", chinese_n: "信息 (xìnxī)", spanish_n: "Información",
    verb: "Inform", ipa_v: "/ɪnˈfɔːrm/", def_v: "Give (someone) facts or information; tell.", example_v: "Please **inform** me of any changes.", chinese_v: "通知 (tōngzhī)", spanish_v: "Informar",
    adj: "Informative", ipa_adj: "/ɪnˈfɔːrmətɪv/", def_adj: "Providing useful or interesting information.", example_adj: "The lecture was very **informative**.", chinese_adj: "信息丰富的 (xìnxī fēngfùdē)", spanish_adj: "Informativo",
    adv: "Informatively", ipa_adv: "/ɪnˈfɔːrmətɪvli/", def_adv: "In an informative manner.", example_adv: "The report presents the facts clearly and **informatively**.", chinese_adv: "翔实地 (xiángshídì)", spanish_adv: "Informativamente"
  },
  {
    noun: "Achievement", ipa_n: "/əˈtʃiːvmənt/", def_n: "A thing done successfully, typically by effort, courage, or skill.", example_n: "Winning the championship was a great **achievement**.", chinese_n: "成就 (chéngjiù)", spanish_n: "Logro",
    verb: "Achieve", ipa_v: "/əˈtʃiːv/", def_v: "Successfully bring about or reach (a desired objective).", example_v: "You can **achieve** anything you set your mind to.", chinese_v: "实现 (shíxiàn)", spanish_v: "Lograr",
    adj: "Achievable", ipa_adj: "/əˈtʃiːvəbl/", def_adj: "Able to be brought about or reached successfully.", example_adj: "Setting **achievable** goals is important.", chinese_adj: "可实现的 (kě shíxiàndē)", spanish_adj: "Alcanzable",
    adv: "Achievably", ipa_adv: "/əˈtʃiːvəbli/", def_adv: "In a way that can be achieved.", example_adv: "The target is difficult but **achievably** within reach.", chinese_adv: "可实现地 (kě shíxiàndì)", spanish_adv: "Alcanzablemente"
  },
  {
    noun: "Organization", ipa_n: "/ˌɔːrɡənɪˈzeɪʃn/", def_n: "An organized body of people with a particular purpose.", example_n: "The **organization** helps local communities.", chinese_n: "组织 (zǔzhī)", spanish_n: "Organización",
    verb: "Organize", ipa_v: "/ˈɔːrɡənaɪz/", def_v: "Arrange into a structured whole; order.", example_v: "They plan to **organize** a charity event.", chinese_v: "组织 (zǔzhī)", spanish_v: "Organizar",
    adj: "Organized", ipa_adj: "/ˈɔːrɡənaɪzd/", def_adj: "Arranged or structured in a systematic way.", example_adj: "She is a very **organized** person.", chinese_adj: "有组织的 (yǒu zǔzhīdē)", spanish_adj: "Organizado",
    adv: "Organizationally", ipa_adv: "/ˌɔːrɡənɪˈzeɪʃənəli/", def_adv: "In a way that relates to the organization or structure of something.", example_adv: "The company needs to improve **organizationally**.", chinese_adv: "组织上 (zǔzhī shàng)", spanish_adv: "Organizacionalmente"
  },
  {
    noun: "Persuasion", ipa_n: "/pərˈsweɪʒn/", def_n: "The action or process of persuading someone.", example_n: "He used his powers of **persuasion**.", chinese_n: "说服 (shuōfú)", spanish_n: "Persuasión",
    verb: "Persuade", ipa_v: "/pərˈsweɪd/", def_v: "Induce (someone) to do something through reasoning or argument.", example_v: "He tried to **persuade** her to change her mind.", chinese_v: "说服 (shuōfú)", spanish_v: "Persuadir",
    adj: "Persuasive", ipa_adj: "/pərˈsweɪsɪv/", def_adj: "Good at persuading someone.", example_adj: "Her argument was very **persuasive**.", chinese_adj: "有说服力的 (yǒu shuōfúlìdē)", spanish_adj: "Persuasivo",
    adv: "Persuasively", ipa_adv: "/pərˈsweɪsɪvli/", def_adv: "In a persuasive manner.", example_adv: "She spoke **persuasively**, winning over the audience.", chinese_adv: "有说服力地 (yǒu shuōfúlìdì)", spanish_adv: "Persuasivamente"
  },
  {
    noun: "Practice", ipa_n: "/ˈpræktɪs/", def_n: "The actual application or use of an idea.", example_n: "It takes a lot of **practice** to master a skill.", chinese_n: "练习 (liànxí)", spanish_n: "Práctica",
    verb: "Practice", ipa_v: "/ˈpræktɪs/", def_v: "Perform (an activity) repeatedly or regularly.", example_v: "You should **practice** your English every day.", chinese_v: "练习 (liànxí)", spanish_v: "Practicar",
    adj: "Practical", ipa_adj: "/ˈpræktɪkl/", def_adj: "Of or concerned with the actual doing of something.", example_adj: "This advice is very **practical**.", chinese_adj: "实用的 (shíyòngdē)", spanish_adj: "Práctico",
    adv: "Practically", ipa_adv: "/ˈpræktɪkli/", def_adv: "In a practical manner; almost.", example_adv: "The new system is **practically** impossible to implement.", chinese_adv: "实际上 (shíjìshàng)", spanish_adv: "Prácticamente"
  },
  {
    noun: "Prediction", ipa_n: "/prɪˈdɪkʃn/", def_n: "A forecast.", example_n: "Her reaction was entirely **predictable**.", chinese_n: "预测 (yùcè)", spanish_n: "Predicción",
    verb: "Predict", ipa_v: "/prɪˈdɪkt/", def_v: "Say or estimate that (a specified thing) will happen.", example_v: "It's difficult to **predict** the future.", chinese_v: "预测 (yùcè)", spanish_v: "Predecir",
    adj: "Predictable", ipa_adj: "/prɪˈdɪktəbl/", def_adj: "Able to be predicted.", example_adj: "The outcome was entirely **predictable**.", chinese_adj: "可预测的 (kě yùcèdē)", spanish_adj: "Predecible",
    adv: "Predictably", ipa_adv: "/prɪˈdɪktəbli/", def_adv: "In a predictable manner.", example_adv: "The team's performance was **predictably** poor.", chinese_adv: "可预测地 (kě yùcèdì)", spanish_adv: "Predeciblemente"
  },
  {
    noun: "Production", ipa_n: "/prəˈdʌkʃn/", def_n: "The action of making or manufacturing.", example_n: "The factory aims to increase its **production**.", chinese_n: "生产 (shēngchǎn)", spanish_n: "Producción",
    verb: "Produce", ipa_v: "/prəˈduːs/", def_v: "Make or manufacture (something).", example_v: "This region **produces** a lot of wine.", chinese_v: "生产 (shēngchǎn)", spanish_v: "Producir",
    adj: "Productive", ipa_adj: "/prəˈdʌktɪv/", def_adj: "Producing or able to produce large amounts.", example_adj: "It was a very **productive** meeting.", chinese_adj: "富有成效的 (fùyǒu chéngxiàodē)", spanish_adj: "Productivo",
    adv: "Productively", ipa_adv: "/prəˈdʌktɪvli/", def_adv: "In a productive manner.", example_adv: "They worked **productively** throughout the day.", chinese_adv: "富有成效地 (fùyǒu chéngxiàodì)", spanish_adv: "Productivamente"
  },
  {
    noun: "Relaxation", ipa_n: "/ˌriːlækˈseɪʃn/", def_n: "The state of being free from tension and anxiety.", example_n: "Yoga is a great way to achieve deep **relaxation**.", chinese_n: "放松 (fàngsōng)", spanish_n: "Relajación",
    verb: "Relax", ipa_v: "/rɪˈlæks/", def_v: "Make or become less tense or anxious.", example_v: "After a long day, I like to **relax** with a book.", chinese_v: "放松 (fàngsōng)", spanish_v: "Relajar",
    adj: "Relaxed", ipa_adj: "/rɪˈlækst/", def_adj: "Free from tension and anxiety; at ease.", example_adj: "He felt very **relaxed** after his vacation.", chinese_adj: "放松的 (fàngsōngde)", spanish_adj: "Relajado",
    adv: "Relaxingly", ipa_adv: "/rɪˈlæksɪŋli/", def_adv: "In a relaxing manner.", example_adv: "The music played **relaxingly** in the background.", chinese_adv: "放松地 (fàngsōngdì)", spanish_adv: "Relajadamente"
  },
  {
    noun: "Response", ipa_n: "/rɪˈspɒns/", def_n: "A verbal or written answer.", example_n: "Her quick **response** saved the situation.", chinese_n: "回应 (huíyìng)", spanish_n: "Respuesta",
    verb: "Respond", ipa_v: "/rɪˈspɒnd/", def_v: "Say something in reply.", example_v: "How did he **respond** to your suggestion?", chinese_v: "回应 (huíyìng)", spanish_v: "Responder",
    adj: "Responsive", ipa_adj: "/rɪˈspɒnsɪv/", def_adj: "Reacting quickly and positively.", example_adj: "The company is very **responsive** to feedback.", chinese_adj: "反应迅速的 (fǎnyìng xùnsùdē)", spanish_adj: "Receptivo",
    adv: "Responsively", ipa_adv: "/rɪˈspɒnsɪvli/", def_adv: "In a responsive manner.", example_adv: "The system reacted **responsively** to the input.", chinese_adv: "迅速地 (xùnsùdì)", spanish_adv: "Receptivamente"
  },
  {
    noun: "Solution", ipa_n: "/səˈluːʃn/", def_n: "A means of solving a problem or dealing with a difficult situation.", example_n: "We need to find a **solution** to this problem.", chinese_n: "解决方案 (jiějué fāng'àn)", spanish_n: "Solución",
    verb: "Solve", ipa_v: "/sɒlv/", def_v: "Find an answer to, explanation for, or means of effectively dealing with (a problem or mystery).", example_v: "Can you help me **solve** this puzzle?", chinese_v: "解决 (jiějué)", spanish_v: "Resolver",
    adj: "Solvable", ipa_adj: "/ˈsɒlvəbl/", def_adj: "Able to be solved.", example_adj: "This math problem is easily **solvable**.", chinese_adj: "可解决的 (kě jiějuédē)", spanish_adj: "Resoluble",
    adv: "(no common adverb)", ipa_adv: "", def_adv: "N/A", example_adv: "", chinese_adv: "", spanish_adv: ""
  },
  {
    noun: "Success", ipa_n: "/səkˈsɛs/", def_n: "The accomplishment of an aim or purpose.", example_n: "His business has been a great **success**.", chinese_n: "成功 (chénggōng)", spanish_n: "Éxito",
    verb: "Succeed", ipa_v: "/səkˈsiːd/", def_v: "Achieve the desired aim or result.", example_v: "She hopes to **succeed** in her new career.", chinese_v: "成功 (chénggōng)", spanish_v: "Tener éxito",
    adj: "Successful", ipa_adj: "/səkˈsɛsfʊl/", def_adj: "Accomplishing an aim or purpose.", example_adj: "He is a very **successful** entrepreneur.", chinese_adj: "成功的 (chénggōngdē)", spanish_adj: "Exitoso",
    adv: "Successfully", ipa_adv: "/səkˈsɛsfʊli/", def_adv: "In a way that achieves a desired aim or result.", example_adv: "The project was **successfully** completed on time.", chinese_adv: "成功地 (chénggōngdì)", spanish_adv: "Exitosamente"
  },
  {
    noun: "Understanding", ipa_n: "/ˌʌndərˈstændɪŋ/", def_n: "The ability to understand something; comprehension.", example_n: "There was a clear **understanding** between them.", chinese_n: "理解 (lǐjiě)", spanish_n: "Comprensión",
    verb: "Understand", ipa_v: "/ˌʌndərˈstænd/", def_v: "Perceive the intended meaning of (words, a language, or a speaker).", example_v: "Do you **understand** what I mean?", chinese_v: "理解 (lǐjiě)", spanish_v: "Comprender",
    adj: "Understandable", ipa_adj: "/ˌʌndərˈstændəbl/", def_adj: "Able to be understood.", example_adj: "His explanation was very **understandable**.", chinese_adj: "可理解的 (kě lǐjiědē)", spanish_adj: "Comprensible",
    adv: "Understandably", ipa_adv: "/ˌʌndərˈstændəbli/", def_adv: "In an understandable manner; as might be expected.", example_adv: "It's **understandably** that you're upset.", chinese_adv: "可理解地 (kě lǐjiědì)", spanish_adv: "Comprensiblemente"
  },
  {
    noun: "Creation", ipa_n: "/kriˈeɪʃn/", def_n: "The action or process of bringing something into existence.", example_n: "The **creation** of new jobs.", chinese_n: "创造 (chuàngzào)", spanish_n: "Creación",
    verb: "Create", ipa_v: "/kriˈeɪt/", def_v: "Bring (something) into existence.", example_v: "She wants to **create** a new design.", chinese_v: "创造 (chuàngzào)", spanish_v: "Crear",
    adj: "Creative", ipa_adj: "/kriˈeɪtɪv/", def_adj: "Relating to or involving the use of the imagination or original ideas.", example_adj: "She is a very **creative** artist.", chinese_adj: "有创造力的 (yǒu chuàngzàolìdē)", spanish_n: "Creativo",
    adv: "Creatively", ipa_adv: "/kriˈeɪtɪvli/", def_adv: "In a creative manner.", example_adv: "He thought **creatively** about the problem.", chinese_adv: "创造性地 (chuàngzàoxìngdì)", spanish_n: "Creativamente"
  },
  {
    noun: "Danger", ipa_n: "/ˈdeɪndʒər/", def_n: "The possibility of suffering harm or injury.", example_n: "He was in great **danger**.", chinese_n: "危险 (wēixiǎn)", spanish_n: "Peligro",
    verb: "Endanger", ipa_v: "/ɪnˈdeɪndʒər/", def_v: "Put (someone or something) at risk or in peril.", example_v: "Smoking can **endanger** your health.", chinese_v: "危及 (wēijí)", spanish_n: "Poner en peligro",
    adj: "Dangerous", ipa_adj: "/ˈdeɪndʒərəs/", def_adj: "Able or likely to cause harm or injury.", example_adj: "That's a **dangerous** road.", chinese_adj: "危险的 (wēixiǎndē)", spanish_n: "Peligroso",
    adv: "Dangerously", ipa_adv: "/ˈdeɪndʒərəsli/", def_adv: "In a dangerous manner.", example_adv: "He drove **dangerously** fast.", chinese_adv: "危险地 (wēixiǎndì)", spanish_n: "Peligrosamente"
  },
  {
    noun: "Beauty", ipa_n: "/ˈbjuːti/", def_n: "A combination of qualities that pleases the aesthetic senses.", example_n: "The **beauty** of the sunset was breathtaking.", chinese_n: "美丽 (měilì)", spanish_n: "Belleza",
    verb: "Beautify", ipa_v: "/ˈbjuːtɪfaɪ/", def_v: "Make beautiful.", example_v: "They tried to **beautify** the park.", chinese_v: "美化 (měihuà)", spanish_n: "Embellecer",
    adj: "Beautiful", ipa_adj: "/ˈbjuːtɪfʊl/", def_adj: "Pleasing the senses or mind aesthetically.", example_adj: "She wore a **beautiful** dress.", chinese_adj: "美丽的 (měilìdē)", spanish_n: "Hermoso",
    adv: "Beautifully", ipa_adv: "/ˈbjuːtɪfʊli/", def_adv: "In a beautiful manner.", example_adv: "She sings **beautifully**.", chinese_adv: "美丽地 (měilìdì)", spanish_n: "Hermosamente"
  },
  {
    noun: "Happiness", ipa_n: "/ˈhæpinəs/", def_n: "The state of being happy.", example_n: "Her **happiness** was evident.", chinese_n: "幸福 (xìngfú)", spanish_n: "Felicidad",
    verb: "(no common verb)", ipa_v: "", def_v: "N/A", example_v: "", chinese_v: "", spanish_v: "",
    adj: "Happy", ipa_adj: "/ˈhæpi/", def_adj: "Feeling or showing pleasure or contentment.", example_adj: "He is a very **happy** child.", chinese_adj: "高兴的 (gāoxìngdē)", spanish_n: "Feliz",
    adv: "Happily", ipa_adv: "/ˈhæpɪli/", def_adv: "In a happy manner.", example_adv: "They lived **happily** ever after.", chinese_adv: "高兴地 (gāoxìngdì)", spanish_n: "Felizmente"
  },
  {
    noun: "Strength", ipa_n: "/strɛŋθ/", def_n: "The quality or state of being strong.", example_n: "He showed great **strength**.", chinese_n: "力量 (lìliàng)", spanish_n: "Fuerza",
    verb: "Strengthen", ipa_v: "/ˈstrɛŋθn/", def_v: "Make or become stronger.", example_v: "Exercise will **strengthen** your muscles.", chinese_v: "加强 (jiāqiáng)", spanish_n: "Fortalecer",
    adj: "Strong", ipa_adj: "/strɔːŋ/", def_adj: "Having the power to move heavy weights.", example_adj: "He is very **strong**.", chinese_adj: "强的 (qiángdē)", spanish_n: "Fuerte",
    adv: "Strongly", ipa_adv: "/ˈstrɔːŋli/", def_adv: "With great physical or mental strength.", example_adv: "He argued **strongly** for his point of view.", chinese_adv: "强烈地 (qiánglièdì)", spanish_n: "Fuertemente"
  },
  {
    noun: "Health", ipa_n: "/hɛlθ/", def_n: "The state of being free from illness or injury.", example_n: "Good **health** is important.", chinese_n: "健康 (jiànkāng)", spanish_n: "Salud",
    verb: "(no common verb)", ipa_v: "", def_v: "N/A", example_v: "", chinese_v: "", spanish_v: "",
    adj: "Healthy", ipa_adj: "/ˈhɛlθi/", def_adj: "In good health.", example_adj: "She lives a **healthy** lifestyle.", chinese_adj: "健康的 (jiànkāngdē)", spanish_n: "Saludable",
    adv: "Healthily", ipa_adv: "/ˈhɛlθɪli/", def_adv: "In a healthy manner.", example_adv: "Eat **healthily**.", chinese_adv: "健康地 (jiànkāngdì)", spanish_n: "Saludablemente"
  }
];

let index = 0;
// Current part of speech: 0 = noun, 1 = verb, 2 = adjective, 3 = adverb
let currentPartIndex = 0;
const partsOfSpeech = ['noun', 'verb', 'adj', 'adv'];

// Get references to elements
const flashcard = document.getElementById("flashcard");
const cardTerm = document.getElementById("card-term");
const cardIpa = document.getElementById("card-ipa");
const cardDefinition = document.getElementById("card-definition");
const cardExample = document.getElementById("card-example");
const cardChinese = document.getElementById("card-chinese");
const cardSpanish = document.getElementById("card-spanish");

function updateCardContent(data, partKey) {
  let term, ipa, definition, example, chinese, spanish;

  // Remove all flipped classes first
  flashcard.classList.remove("flipped-1", "flipped-2", "flipped-3");

  switch (partKey) {
    case 'noun':
      term = data.noun;
      ipa = data.ipa_n;
      definition = data.def_n;
      example = data.example_n;
      chinese = data.chinese_n;
      spanish = data.spanish_n;
      flashcard.setAttribute("aria-pressed", "false"); // Not flipped
      break;
    case 'verb':
      term = data.verb;
      ipa = data.ipa_v;
      definition = data.def_v;
      example = data.example_v;
      chinese = data.chinese_v;
      spanish = data.spanish_v;
      flashcard.classList.add("flipped-1"); // Apply specific flipped class for verb
      flashcard.setAttribute("aria-pressed", "true");
      break;
    case 'adj':
      term = data.adj;
      ipa = data.ipa_adj;
      definition = data.def_adj;
      example = data.example_adj;
      chinese = data.chinese_adj;
      spanish = data.spanish_adj;
      flashcard.classList.add("flipped-2"); // Apply specific flipped class for adjective
      flashcard.setAttribute("aria-pressed", "true");
      break;
    case 'adv':
      term = data.adv;
      ipa = data.ipa_adv;
      definition = data.def_adv;
      example = data.example_adv;
      chinese = data.chinese_adv;
      spanish = data.spanish_adv;
      flashcard.classList.add("flipped-3"); // Apply specific flipped class for adverb
      flashcard.setAttribute("aria-pressed", "true");
      break;
  }

  // Display "N/A" if a form is not available
  cardTerm.innerHTML = `${term || 'N/A'} <span class="speaker" title="Hear pronunciation" role="button" tabindex="0" aria-label="Play pronunciation of ${term || 'N/A'}">🔊</span>`;
  cardIpa.textContent = ipa || 'N/A';
  cardDefinition.textContent = definition || 'N/A';
  cardExample.innerHTML = `"${example || 'N/A'}"`;
  cardChinese.textContent = `Chinese: ${chinese || 'N/A'}`;
  cardSpanish.textContent = `Spanish: ${spanish || 'N/A'}`;

  const speakerBtn = cardTerm.querySelector(".speaker");
  if (speakerBtn) {
    speakerBtn.onclick = (e) => {
      e.stopPropagation(); // Prevent card flip on speaker click
      speakWord(term);
    };
    speakerBtn.onkeydown = (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        e.stopPropagation(); // Prevent card flip on speaker keypress
        speakWord(term);
      }
    };
  }
}

function speakWord(word) {
  // Only try to speak if the word is a valid string and not a placeholder
  if ('speechSynthesis' in window && typeof word === 'string' && word.trim() !== '' && word.trim().toLowerCase() !== 'n/a' && !word.includes('(no common')) {
    const utterance = new SpeechSynthesisUtterance(word);
    utterance.lang = 'en-US';
    utterance.rate = 0.9;
    speechSynthesis.speak(utterance);
  } else {
    console.warn("Speech Synthesis API not supported or word is not suitable for pronunciation.");
  }
}

function showCard() {
  currentPartIndex = 0; // Always start with noun when showing a new card
  const currentCardData = flashcards[index];
  updateCardContent(currentCardData, partsOfSpeech[currentPartIndex]);
  speakWord(currentCardData[partsOfSpeech[currentPartIndex]]); // Speak the noun when a new card is shown
}

function flipCard() {
  currentPartIndex = (currentPartIndex + 1) % partsOfSpeech.length;
  const currentCardData = flashcards[index];
  const currentPart = partsOfSpeech[currentPartIndex];

  const termToSpeak = currentCardData[`${currentPart}`]; // Get the word for the current part of speech
  updateCardContent(currentCardData, currentPart);
  speakWord(termToSpeak); // Auto-pronounce the word on flip
}

function nextCard() {
  index = (index + 1) % flashcards.length;
  showCard(); // Resets to noun side and speaks
}

function prevCard() {
  index = (index - 1 + flashcards.length) % flashcards.length;
  showCard(); // Resets to noun side and speaks
}

document.addEventListener('DOMContentLoaded', () => {
  showCard(); // Initial card display

  // Mobile nav toggle script
  const menuToggle = document.getElementById('menuToggle');
  const navLinks = document.getElementById('primary-navigation');

  if (menuToggle && navLinks) {
    menuToggle.addEventListener('click', () => {
      const expanded = menuToggle.getAttribute('aria-expanded') === 'true' || false;
      menuToggle.setAttribute('aria-expanded', !expanded);
      navLinks.classList.toggle('active');
    });

    navLinks.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        if(navLinks.classList.contains('active')) {
          navLinks.classList.remove('active');
          menuToggle.setAttribute('aria-expanded', false);
        }
      });
    });
  }
});
</script>
    <div class="buttons">
        <a href="../reading.html">⬅️ Back to Reading</a>
        <a href="../index.html">🏠 Back to Home</a>
    </div>

</body>
</html>
