<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="/favicon.png" type="image/png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Comparatives & Superlatives - Housing</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet" />
  <style>
    /* General body and container styles */
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f4f9;
      text-align: center;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    nav { background: #124076; margin: 0; padding: 0; }
    .nav-container {
      display: flex; align-items: center; justify-content: space-between;
      width: 100%; max-width: 1100px; margin: 0 auto; padding: 0.8rem 1rem;
    }
    .logo {
      display: flex; align-items: center; color: #ff9800;
      font-family: 'Poppins', sans-serif; font-weight: 700;
      font-size: 1.3rem; text-decoration: none;
    }
    .logo-img { width: 32px; height: 32px; margin-right: 0.5rem; }
    .nav-links { display: flex; gap: 1rem; }
    .nav-links a { color: white; font-weight: 700; text-decoration: none; transition: color 0.2s ease; }
    .nav-links a:hover, .nav-links a:focus { color: #ffbb33; outline: none; }
    .menu-toggle { display: none; flex-direction: column; gap: 5px; background: none; border: none; cursor: pointer; padding: 0; }
    .menu-toggle .bar { width: 25px; height: 3px; background: white; border-radius: 2px; }

    /* --- Phone Layout (max-width: 600px) --- */
    @media (max-width: 600px) {
      .nav-links {
        position: fixed; top: 56px; right: 0; background: #124076; flex-direction: column; width: 100%;
        height: calc(100vh - 56px);
        padding: 1rem 1.5rem 2rem 1.5rem; gap: 1.2rem; overflow-y: auto; transform: translateX(100%);
        transition: transform 0.3s ease; border-radius: 0 0 0 10px; z-index: 999; align-items: flex-start;
      }
      .nav-links.active { transform: translateX(0); }
      .menu-toggle { display: flex; }
      h1, .content-container, .buttons { padding: 0 1rem; box-sizing: border-box; }
    }

    /* --- Tablet Layout (min-width: 601px and max-width: 900px) --- */
    @media (min-width: 601px) and (max-width: 900px) {
      .nav-container { padding: 0.8rem 1.5rem; }
      .nav-links {
        position: static; flex-direction: row; background: none; height: auto; width: auto;
        padding: 0; gap: 1.3rem; transform: none !important; border-radius: 0; align-items: center; overflow: visible;
      }
      .menu-toggle { display: none; }
      h1, .content-container, .buttons { padding: 0 1.5rem; box-sizing: border-box; }
    }

    /* --- Desktop Layout (min-width: 901px) --- */
    @media (min-width: 901px) {
      .nav-container { max-width: 1100px; margin: 0 auto; padding: 0.8rem 1rem; }
      .nav-links {
        position: static; flex-direction: row; background: none; height: auto; width: auto;
        padding: 0; gap: 1.5rem; transform: none !important; border-radius: 0; align-items: center; overflow: visible;
      }
      .menu-toggle { display: none; }
      body { padding: 0; }
      h1, .content-container, .buttons { padding: 0; }
    }

    /* Content specific styles */
    h1 { margin: 2rem auto 1.5rem auto; color: #2c3e50; max-width: 800px; }
    .content-container {
      background: white; width: 90%; max-width: 800px; margin: 2rem auto; padding: 2rem; border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1); text-align: left; line-height: 1.6; font-size: 1.05rem;
    }
    .content-container h2 { color: #3498db; margin-top: 1.5rem; margin-bottom: 0.8rem; font-size: 1.5rem; }
    .content-container p { margin-bottom: 1rem; }
    .content-container ol { list-style-type: decimal; padding-left: 20px; margin-bottom: 1rem; }
    .content-container li { margin-bottom: 0.9rem; }
    .content-container strong { color: #124076; }
    .question-item { margin-bottom: 0.9rem; }
    .inline-feedback { margin-left: 0.5rem; font-style: italic; display: none; }
    .inline-feedback.correct { color: #27ae60; display: inline; }
    .inline-feedback.incorrect { color: #c0392b; display: inline; }

    .buttons {
      margin: 2rem auto 0.5rem auto;
      display: flex; justify-content: center; gap: 1rem; max-width: 600px; flex-wrap: wrap;
    }
    button, .buttons a {
      padding: 0.6rem 1.2rem; background: #3498db; color: white; border: none; border-radius: 8px;
      font-weight: bold; cursor: pointer; text-decoration: none; display: inline-block; user-select: none;
    }
    button:hover, .buttons a:hover { background: #2980b9; }
    .submit-button { background-color: #4CAF50; }
    .submit-button:hover { background-color: #45a049; }
    .show-answers { background-color: #f44336; }
    .show-answers:hover { background-color: #d32f2f; }
    .reset-button { background-color: #7f8c8d; }
    .reset-button:hover { background-color: #707b7c; }

    .answers-section {
      display: none; margin-top: 1.5rem; border-top: 2px solid #ccc; padding-top: 1rem;
    }
    .answers-section h3 { color: #4CAF50; margin: 0 0 0.5rem 0; }

    /* Inline blank inputs */
    .blank-input {
      display: inline-block;
      min-width: 8ch;
      max-width: 28ch;
      padding: 0.25rem 0.35rem;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 1rem;
      margin: 0 0.25rem;
      vertical-align: baseline;
    }
    .blank-input.correct { border-color: #27ae60; }
    .blank-input.incorrect { border-color: #c0392b; }

    /* Small hint text */
    .hint { color: #555; font-size: 0.95rem; margin-top: 0.5rem; }
  </style>
</head>
<body>

<nav aria-label="Main navigation">
  <div class="nav-container">
    <a href="../index.html" class="logo" aria-label="ESLnote Home">
      <img src="/favicon.png" alt="ESLnote Logo" class="logo-img" />
      <span class="site-name">ESLnote</span>
    </a>

    <button id="menuToggle" class="menu-toggle" aria-controls="primary-navigation" aria-expanded="false" aria-label="Toggle menu">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <div class="nav-links" id="primary-navigation">
      <a href="../index.html">Home</a>
      <a href="../flashcards.html">Flashcards</a>
      <a href="../conversation.html">Conversations</a>
      <a href="../grammar.html">Grammar</a>
      <a href="../reading.html">Reading</a>
      <a href="../listening.html">Listening</a>
      <a href="../practice.html">Practices</a>
    </div>
  </div>
</nav>

<h1>Comparatives & Superlatives ‚Äî Housing</h1>

<div class="content-container">
  <p>
    <strong>Review:</strong> Use <strong>comparatives</strong> to compare two things
    (e.g., <em>cheaper than</em>, <em>more convenient than</em>) and <strong>superlatives</strong>
    to compare three or more (e.g., <em>the most affordable</em>, <em>the least noisy</em>).
    Use <strong>be</strong> before adjectives (<em>is safer</em>) and <strong>have</strong> before nouns
    (<em>has more space</em>).
  </p>
  <p class="hint">
    Tip: Watch spelling changes (big ‚Üí <em>bigger</em>) and irregular forms (good ‚Üí <em>better</em> / <em>best</em>).
  </p>

  <h2>Fill in the Blanks (20 Questions)</h2>
  <div id="fill-blanks"></div>

  <div class="buttons">
    <button id="submitBtn" class="submit-button">Submit Answers</button>
    <button id="showAnswersBtn" class="show-answers" style="display:none;">Show Answers</button>
    <button id="resetBtn" class="reset-button">Reset</button>
  </div>

  <div id="results" class="answers-section">
    <h3>Your Results</h3>
    <p>You got <span id="correctCount">0</span> out of <span id="totalCount">0</span> correct.</p>
  </div>
</div>

<div class="buttons" style="margin-bottom: 3rem;">
  <a href="../practice.html">‚Üê Back to Practice</a>
  <a href="../index.html">üè† Home</a>
</div>

<script>
  // Mobile nav toggle
  const menuToggle = document.getElementById('menuToggle');
  const navLinks = document.getElementById('primary-navigation');
  if (menuToggle && navLinks) {
    menuToggle.addEventListener('click', () => {
      const expanded = menuToggle.getAttribute('aria-expanded') === 'true' || false;
      menuToggle.setAttribute('aria-expanded', !expanded);
      navLinks.classList.toggle('active');
    });
    navLinks.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        if (navLinks.classList.contains('active')) {
          navLinks.classList.remove('active');
          menuToggle.setAttribute('aria-expanded', false);
        }
      });
    });
  }

  // Practice logic
  const norm = s => s.toLowerCase().replace(/\s+/g, ' ').replace(/‚Äô/g, "'").trim();

  // 20 items, slightly harder (intermediate-high): abstract adjectives, least/most, comparisons with nouns, irregulars
  const fillItems = [
    { template: "1) Which option is usually {1} for first-time renters, a studio or a one-bedroom? (affordable)", answers: [["more affordable"]] },
    { template: "2) Which neighborhood is {1} in your city for families? (good)", answers: [["the best"]] },
    { template: "3) Which place is {1} to public transportation, your home or your workplace? (close)", answers: [["closer"]] },
    { template: "4) Which building has {1} elevators, the old building or the new one? (many)", answers: [["more"]] },
    { template: "5) Which apartment is {1} option: a furnished unit or an unfurnished unit? (flexible)", answers: [["the more flexible"]] },
    { template: "6) Which area is {1} at night, the city center or the suburbs? (safe)", answers: [["safer"]] },
    { template: "7) Which home has {1} storage space, a house or a condo? (much)", answers: [["more"]] },
    { template: "8) Which option is {1} in the long term: renting for many years or buying a home? (costly)", answers: [["more costly"]] },
    { template: "9) Which place is {1} to maintain, a condo or a house? (easy)", answers: [["easier"]] },
    { template: "10) Which apartment feature is {1} in summer: strong air conditioning or a balcony? (useful)", answers: [["more useful"]] },

    { template: "11) Which street is {1} on weekends, the main road or the side street? (noisy)", answers: [["noisier"]] },
    { template: "12) Which home is {1} for privacy: living alone or sharing with roommates? (good)", answers: [["better"]] },
    { template: "13) Which option has {1} rules, renting from a private owner or from a large company? (few)", answers: [["fewer"]] },
    { template: "14) Which place is the {1} to commute from, the suburbs or downtown? (far)", answers: [["farthest"], ["furthest"]] },
    { template: "15) Which apartment is the {1} to heat in winter, a top-floor unit or a middle-floor unit? (cheap)", answers: [["cheapest"]] },
    { template: "16) Which neighborhood has the {1} services nearby (shops, clinics, banks)? (many)", answers: [["most"]] },
    { template: "17) Which type of housing is the {1} in your city right now? (demanded)", answers: [["most demanded"]] },
    { template: "18) Which option is the {1} for people on a tight budget: renting alone or sharing a place? (practical)", answers: [["most practical"]] },
    { template: "19) Which building is the {1} to live in: one with thin walls or one with strict quiet hours? (stressful)", answers: [["less stressful"]] },
    { template: "20) Which area is the {1} affordable in your city? (least)", answers: [["least"]] }
  ];

  function renderBlock(containerId, items, group) {
    const container = document.getElementById(containerId);
    container.innerHTML = '';
    items.forEach((item, i) => {
      let html = item.template;
      const blanks = item.answers.length;
      for (let b = 1; b <= blanks; b++) {
        const input = `<input type="text" class="blank-input" aria-label="Answer ${i+1}-${b}" data-group="${group}" data-i="${i}" data-b="${b-1}" />`;
        html = html.replace(new RegExp('\\{' + b + '\\}', 'g'), input);
      }
      container.innerHTML += `
        <div class="question-item">
          <p class="question-text">${html}
            <span id="fb-${group}-${i}" class="inline-feedback"></span>
          </p>
        </div>`;
    });
  }

  function checkGroup(items, group) {
    let correct = 0;
    items.forEach((item, i) => {
      const fb = document.getElementById(`fb-${group}-${i}`);
      let allCorrect = true;

      item.answers.forEach((ansArr, b) => {
        const inp = document.querySelector(`input[data-group="${group}"][data-i="${i}"][data-b="${b}"]`);
        const ok = ansArr.map(norm).includes(norm(inp.value));
        inp.classList.remove('correct','incorrect');
        inp.classList.add(ok ? 'correct' : 'incorrect');
        if (!ok) allCorrect = false;
      });

      if (allCorrect) {
        correct++;
        fb.textContent = ' ‚úì';
        fb.className = 'inline-feedback correct';
        fb.style.display = 'inline';
      } else {
        const correctText = item.answers.map(a => a[0]).join(' / ');
        fb.textContent = ` ‚úó (Correct: ${correctText})`;
        fb.className = 'inline-feedback incorrect';
        fb.style.display = 'inline';
      }
    });
    return correct;
  }

  const submitBtn = document.getElementById('submitBtn');
  const showAnswersBtn = document.getElementById('showAnswersBtn');
  const resultsSection = document.getElementById('results');
  const correctCountSpan = document.getElementById('correctCount');
  const totalCountSpan = document.getElementById('totalCount');

  function checkAll() {
    const correctFill = checkGroup(fillItems, 'fill');
    const total = fillItems.length;
    correctCountSpan.textContent = correctFill;
    totalCountSpan.textContent = total;
    resultsSection.style.display = 'block';
    showAnswersBtn.style.display = 'inline-block';
    submitBtn.style.display = 'none';
  }

  function toggleAnswers() {
    const showing = showAnswersBtn.textContent === 'Hide Answers';
    document.querySelectorAll('.inline-feedback').forEach(el => el.style.display = showing ? 'none' : 'inline');
    showAnswersBtn.textContent = showing ? 'Show Answers' : 'Hide Answers';
  }

  function resetAll() {
    document.querySelectorAll('.blank-input').forEach(inp => {
      inp.value = '';
      inp.classList.remove('correct','incorrect');
    });
    document.querySelectorAll('.inline-feedback').forEach(el => {
      el.textContent = '';
      el.style.display = 'none';
      el.className = 'inline-feedback';
    });
    resultsSection.style.display = 'none';
    submitBtn.style.display = 'inline-block';
    showAnswersBtn.style.display = 'none';
    showAnswersBtn.textContent = 'Show Answers';
  }

  renderBlock('fill-blanks', fillItems, 'fill');
  submitBtn.addEventListener('click', checkAll);
  showAnswersBtn.addEventListener('click', toggleAnswers);
  document.getElementById('resetBtn').addEventListener('click', resetAll);
</script>

</body>
</html>
